<style>
    .applyInput .sub-main{overflow: hidden;}
    .applyInput .sub-body{padding: 10px 40px 0 0;border: 1px solid #eaeeea;border-top: none}
    .applyInput .sub-title{padding: 5px;font-size: 14px;cursor: pointer;background-color: #f5f5f5;border-bottom: 1px solid #eaeeea;}
    .applyInput .sub-title span:first-child{font-weight: bold;color: black;}
    .applyInput .sub-title span:last-child{display: inline-block;width: 20px;height: 20px;}
</style>
<div ng-controller="person_basic_change_save_controller" class="applyInput">
    <div>
        <toaster-container toaster-options="{'position-class': 'toast-top-right', 'close-button':true}"></toaster-container>
    </div>
    <div class="modal-body">
        <form name="form" class="form-validation" novalidate>
            <div class="panel panel-default">
                <div class="panel-body wrapper-sm">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group pull-right">
                                <div class="btn-group">
                                    <button class="btn btn-sm fms-button-margin-bottom btn-default m-b-xs" ng-click="save()" ng-disabled="submit"><i class=""></i>提交</button>
                                    <button class="btn btn-sm fms-button-margin-bottom btn-default m-b-xs" ng-click="close()" ng-disabled="submit"><i class=""></i>返回</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="sub-main">
                        <div class="sub-title clearfix" click-hide>
                            <span class="pull-left">变更前信息</span>
                            <span class="pull-right"><i class="glyphicon glyphicon-chevron-down"></i></span>
                        </div>
                        <div class="sub-body">
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">承租人</b>:</label>
                                <div class="col-sm-2">
                                    <label class="control-label text-left"><b class="form-text-black">{{oldPersonBasicChangeVo.name}}</b></label>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">手机号码</b>:</label>
                                <div class="col-sm-2">
                                    <label class="control-label text-left"><b class="form-text-black">{{oldPersonBasicChangeVo.mobileNo}}</b></label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">居住省份</b>:</label>
                                <div class="col-sm-2">
                                    <label class="control-label text-left"><b class="form-text-black">{{oldPersonBasicChangeVo.resideProvName}}</b></label>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">居住城市</b>:</label>
                                <div class="col-sm-2">
                                    <label class="control-label text-left"><b class="form-text-black">{{oldPersonBasicChangeVo.resideCityName}}</b></label>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">居住区县</b>:</label>
                                <div class="col-sm-2">
                                    <label class="control-label text-left"><b class="form-text-black">{{oldPersonBasicChangeVo.resideCountyName}}</b></label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">居住详细地址</b>:</label>
                                <div class="col-sm-6">
                                    <label class="control-label text-left"><b class="form-text-black">{{oldPersonBasicChangeVo.resideAddr}}</b></label>
                                </div>
                            </div>
                            <!--联系人控件-->
                            <div>
                                <div class="row">
                                    <span style="margin-left: 2%;">变更前联系人信息</span>
                                </div>
                                <div style="margin-right: -40px;padding-left: 5px;padding-bottom: 10px;">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <form class="form-inline" role="form">
                                            </form>
                                        </div>
                                    </div>
                                    <table id="contact_table_detail" border="1" class="table table-striped m-b-none" width="100%"></table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="sub-main">
                        <div class="sub-title clearfix"click-hide>
                            <span class="pull-left">变更后信息</span>
                            <span class="pull-right"><i class="glyphicon glyphicon-chevron-down"></i></span>
                        </div>
                        <div class="sub-body">
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">承租人</b><b class="form-error">*</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="name" placeholder="请输入承租人" class="form-control m-b-xs" ng-model="newPersonBasicChangeVo.name"  required>
                                    <p>
                                        <span class="form-info" ng-show=" (form.name.$dirty && form.name.$error.required) || (form.name.$error.required && formValidate)">承租人姓名不能为空</span>
                                    </p>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">手机号码</b><b class="form-error">*</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="mobileNo" placeholder="请输入手机号码" class="form-control m-b-xs" ng-model="newPersonBasicChangeVo.mobileNo" ng-pattern="/^1[345789]\d{9}$/" required>
                                    <p>
                                        <span class="form-info" ng-show=" (form.mobileNo.$dirty && form.mobileNo.$error.required) || (form.mobileNo.$error.required && formValidate)">手机号码不能为空</span>
                                        <span class="form-info" ng-show=" (form.mobileNo.$error.pattern && !form.mobileNo.$error.required) || (form.mobileNo.$error.pattern && formValidate && !form.mobileNo.$error.required)">请输入正确的手机号码</span>
                                    </p>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">居住省份</b><b class="form-error">*</b>:</label>
                                <div class="col-sm-2">
                                    <select name="resideProv"  ng-model="newPersonBasicChangeVo.resideProv" class="form-control m-b-xs" ng-change="changeCountryAddr()" required>
                                        <option value="">---请选择---</option>
                                        <option value="{{provinceObj.areaCode}}" ng-repeat="provinceObj in provinceList" ng-selected="newPersonBasicChangeVo.resideProv==provinceObj.areaCode">{{provinceObj.areaName}}</option>
                                    </select>
                                    <p>
                                        <span class="form-info" ng-show=" (form.resideProv.$dirty && form.resideProv.$error.required) || (form.resideProv.$error.required && formValidate)">居住省份不能为空</span>
                                    </p>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">居住城市</b><b class="form-error">*</b>:</label>
                                <div class="col-sm-2">
                                    <select name="resideCity" ng-model="newPersonBasicChangeVo.resideCity" class="form-control m-b-xs" ng-change="changeCityAddr()" required>
                                        <option value="">---请选择---</option>
                                        <option value="{{cityObj.areaCode}}" ng-selected="cityObj.areaCode==newPersonBasicChangeVo.resideCity?1:0" ng-repeat="cityObj in cityList[newPersonBasicChangeVo.resideProv]">{{cityObj.areaName}}</option>
                                    </select>
                                    <p>
                                        <span class="form-info" ng-show=" (form.resideCity.$dirty && form.resideCity.$error.required) || (form.resideCity.$error.required && formValidate)">居住城市不能为空</span>
                                    </p>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">居住区县</b><b class="form-error">*</b>:</label>
                                <div class="col-sm-2">
                                    <select name="resideCounty"  ng-model="newPersonBasicChangeVo.resideCounty" class="form-control m-b-xs" required>
                                        <option value="" >---请选择---</option>
                                        <option value="{{areaObj.areaCode}}" ng-selected="areaObj.areaCode==newPersonBasicChangeVo.resideCounty?1:0" ng-repeat="areaObj in areaList[newPersonBasicChangeVo.resideCity]">{{areaObj.areaName}}</option>
                                    </select>
                                    <p>
                                        <span class="form-info" ng-show=" (form.resideCounty.$dirty && form.resideCounty.$error.required) || (form.resideCounty.$error.required && formValidate)">居住区县不能为空</span>
                                    </p>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">居住详细地址</b><b class="form-error">*</b>:</label>
                                <div class="col-sm-6">
                                    <input type="text" name="resideAddr" placeholder="请输入居住详细地址" class="form-control m-b-xs" ng-model="newPersonBasicChangeVo.resideAddr" required >
                                    <p>
                                        <span class="form-info" ng-show=" (form.resideAddr.$dirty && form.resideAddr.$error.required) || (form.resideAddr.$error.required && formValidate)">居住详细地址不能为空</span>
                                    </p>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">备注</b>:</label>
                                <div class="col-sm-6">
                                    <textarea name="remark" type="text" placeholder="请输入备注" title="{{newPersonBasicChangeVo.remark}}" ng-model="newPersonBasicChangeVo.remark" class="form-control m-b-xs"></textarea>
                                    <p>
                                        <span class="form-info" ng-show=" (form.remark.$dirty && form.remark.$error.required) || (form.remark.$error.required && formValidate)">备注不能为空</span>
                                    </p>
                                </div>
                            </div>

                            <!--联系人控件-->
                            <div>
                                <div class="row">
                                    <span style="margin-left: 2%;">增加联系人信息</span>
                                </div>
                                <div style="margin-right: -40px;padding-left: 5px;padding-bottom: 10px;">
                                    <div class="btn-group">
                                        <button class="btn btn-success btn-sm" type="button" ng-click="saveContact()"><i class="fa fa-plus"></i>添加联系人</button>
                                    </div>
                                    <table id="contact_table_save" border="1" class="table table-striped m-b-none" width="100%"></table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--流程日志-->
                <div class="panel-body wrapper-sm">
                    <div ng-include="'tpl/common/process_log/process_log_list.html'"></div>
                </div>
            </div>
        </form>
    </div>
</div>
