<style>
    .transferApply .sub-main {
        overflow: hidden;
    }

    .transferApply .sub-body {
        padding: 10px 40px 0 0;
        border: 1px solid #eaeeea;
        border-top: none;
    }

    .transferApply .sub-title {
        padding: 5px;
        font-size: 14px;
        cursor: pointer;
        background-color: #f5f5f5;
        border-bottom: 1px solid #eaeeea;
    }

    .transferApply .sub-title span:first-child {
        font-weight: bold;
        color: black;
    }

    .transferApply .sub-title span:last-child {
        display: inline-block;
        width: 20px;
        height: 20px;
    }
</style>
<div class="bg-light lter b-b wrapper-md">
    <h1 class="m-n font-thin h4">财务确认收款</h1>
</div>
<div ng-controller="surrender_charge_receivables_controller" class="transferApply" style="padding: 10px;">
    <div>
        <toaster-container
                toaster-options="{'position-class': 'toast-top-right', 'close-button':true}"></toaster-container>
    </div>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="row m-b-xs">
                <div class="form-group pull-right">
                    <div class="btn-group ">
                        <button class="btn btn-success m-b-xs btn-sm fms-button-margin-bottom" ng-click="modify()"
                                ng-disabled="submit"><i class=""></i>提交
                        </button>
                        <button class="btn btn-default m-b-xs btn-sm fms-button-margin-bottom" ng-click="goback()"><i
                                class=""></i>返回
                        </button>
                    </div>
                </div>
            </div>
            <form name="form" class="form-validation" novalidate>
                <div class="panel-body wrapper-sm" style="margin: 0; padding: 15px; border: 1px solid #dddddd">

                    <div asass="btn-group pull-right">
                        <button class="btn btn-info m-b-xs m-r-sm btn-sm" ng-click="add()"><i
                                class="fa fa-plus m-r-xs"></i>增加
                        </button>
                    </div>

                    <div class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                        <table border="1" class="table table-striped m-b-none dataTable no-footer" width="100%">
                            <thead>
                            <tr>
                                <th class="sorting_disabled center" rowspan="1" colspan="1" style="width: 0px;">收款银行分行
                                </th>
                                <th class="sorting_disabled center" rowspan="1" colspan="1" style="width: 0px;">收款户名
                                </th>
                                <th class="sorting_disabled center" rowspan="1" colspan="1" style="width: 0px;">收款账号
                                </th>
                                <th class="sorting_disabled center" rowspan="1" colspan="1" style="width: 0px;">联行号</th>
                                <th class="sorting_disabled center" rowspan="1" colspan="1" style="width: 0px;">实收金额
                                </th>
                                <th class="sorting_disabled center" rowspan="1" colspan="1" style="width: 0px;">到帐日期
                                </th>
                                <th class="sorting_disabled center" rowspan="1" colspan="1" style="width: 0px;">备注</th>
                                <th class="sorting_disabled center" rowspan="1" colspan="1" style="width: 0px;">操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr click-tr ng-show="contReceiptVoList.length == 0">
                                <td colspan="7" class="dataTables_empty"><a class="a1" ng-click="add()">点击添加</a></td>
                            </tr>
                            <tr ng-show="contReceiptVoList.length != 0"
                                ng-repeat="a in contReceiptVoList track by $index">

                                <!-- <td>
                                     <input type="text" name="recAccBank_{{$index}}" placeholder="收款银行" class="form-control m-b-xs" ng-model="a.recAccBank" disabled required>
                                     <p>
                                         <span class="form-info" ng-show=" (form.recAccBank_{{$index}}.$dirty && form.recAccBank_{{$index}}.$error.required) || (form.recAccBank_{{$index}}.$error.required && formValidate)">请选择收款银行</span>
                                     </p>
                                 </td>-->
                                <td>
                                    <input type="text" name="recAccBranch_{{$index}}" placeholder="收款银行分行"
                                           class="form-control m-b-xs" ng-model="a.recAccBranch" disabled required>
                                    <p>
                                    <span class="form-info"
                                          ng-show=" (form.recAccBranch_{{$index}}.$dirty && form.recAccBranch_{{$index}}.$error.required) || (form.recAccBranch_{{$index}}.$error.required && formValidate)">请选择收款银行分行</span>
                                    </p>
                                </td>
                                <td>
                                    <input type="text" name="recAccountName_{{$index}}" placeholder="收款户名"
                                           class="form-control m-b-xs" ng-model="a.recAccountName" disabled>
                                    <p>
                                    <span class="form-info"
                                          ng-show=" (form.recAccountName_{{$index}}.$dirty && form.recAccountName_{{$index}}.$error.required) || (form.recAccountName_{{$index}}.$error.required && formValidate)">收款户名</span>
                                    </p>
                                </td>
                                <td>
                                    <input type="text" name="recAccountNo_{{$index}}" placeholder="收款账号"
                                           class="form-control m-b-xs" ng-model="a.recAccountNo" disabled>
                                    <p>
                                    <span class="form-info"
                                          ng-show=" (form.recAccountNo_{{$index}}.$dirty && form.recAccountNo_{{$index}}.$error.required) || (form.recAccountNo_{{$index}}.$error.required && formValidate)">收款账号</span>
                                    </p>
                                </td>
                                <td>
                                    <input type="text" name="recEleBankNo_{{$index}}" placeholder="联行号"
                                           class="form-control m-b-xs" ng-model="a.recEleBankNo" disabled>
                                    <p>
                                    <span class="form-info"
                                          ng-show=" (form.recEleBankNo_{{$index}}.$dirty && form.recEleBankNo_{{$index}}.$error.required) || (form.recEleBankNo_{{$index}}.$error.required && formValidate)">联行号</span>
                                    </p>
                                </td>
                                <td>
                                    <input type="number" name="receiptAmount_{{$index}}" placeholder="实收金额"
                                           class="form-control m-b-xs" ng-model="a.receiptAmount"
                                           ng-change="setInputVal()"
                                           required>
                                    <p>
                                    <span class="form-info"
                                          ng-show=" (form.receiptAmount_{{$index}}.$dirty && form.receiptAmount_{{$index}}.$error.required) || (form.receiptAmount_{{$index}}.$error.required && formValidate)">实收金额不能为空</span>
                                    </p>
                                </td>
                                <td>
                                    <input type="text" name="receiptDate_{{$index}}" placeholder="到帐日期"
                                           class="form-control m-b-xs" ng-model="a.receiptDate" date-picker required>
                                    <p>
                                    <span class="form-info"
                                          ng-show=" (form.receiptDate_{{$index}}.$dirty && form.receiptDate_{{$index}}.$error.required) || (form.receiptDate_{{$index}}.$error.required && formValidate)">到帐日期不能为空</span>
                                    </p>
                                </td>
                                <td>
                                    <input limit-word type="text" name="memo_{{$index}}" placeholder="备注"
                                           class="form-control m-b-xs" ng-model="a.memo">
                                    <!--<p>
                                        <span class="form-info" ng-show=" (form.memo_{{$index}}.$dirty && form.memo_{{$index}}.$error.required) || (form.memo_{{$index}}.$error.required && formValidate)">备注不能为空</span>
                                    </p>-->
                                </td>
                                <td>
                                    <a class="a1" ng-click="selectBasBankInfo($index)">选择收款银行分行</a>
                                    <a class="a1" ng-click="del($index)">删除</a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <table border="1" class="table table-striped m-b-none" id="cont_receipt_table"></table>
                </div>

                <div class="sub-main">
                    <div class="sub-title clearfix">
                        <span class="pull-left">收款明细信息</span>
                        <span class="pull-right"></span>
                    </div>
                    <div class="sub-body">
                        <div class="row">
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">应收总金额</b><b
                                        class="form-error"></b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="claimAmount" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.retreatsAmount" disabled>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">实收总金额</b><b
                                        class="form-error"></b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="receiptsAmount" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.receiptsAmount" disabled>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">操作分类</b><b
                                        class="form-error">*</b>:</label>
                                <div class="col-sm-3">
                                    <div class="radio" ng-repeat="approveActType in surrenderChargeActTypeList">
                                        <label><input type="radio" name="actType"
                                                      value="{{approveActType.codeValue}}"
                                                      ng-model="transferInfoRetreatsVo.actType">{{approveActType.codeValueName}}</label>
                                    </div>
                                    <p>
                                        <span class="form-info"
                                              ng-show="transferInfoRetreatsVo.actType == null">请选择操作分类</span>
                                    </p>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">备注</b><b
                                        class="form-error">*</b>:</label>
                                <div class="col-sm-3">
                            <textarea limit-word style="width: 824px" name="remark"
                                      ng-model="transferInfoRetreatsVo.remark" required></textarea>
                                    <p>
                                <span class="form-info"
                                      ng-show=" (form.remark.$dirty && form.remark.$error.required) || (form.remark.$error.required && formValidate)">请输入审批意见备注</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 客户信息 -->
                <div class="sub-main">
                    <div class="sub-title clearfix" click-hide>
                        <span class="pull-left">客户信息</span>
                        <span class="pull-right"><i class="glyphicon glyphicon-chevron-down"></i></span>
                    </div>
                    <div class="sub-body">
                        <div class="row">
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b
                                        class="form-text-black">承租人</b>:</label>
                                <div class="col-sm-4">
                                    <input type="text" name="cstmName" placeholder="请输入承租人" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.cstmName" disabled/>
                                </div>
                                <label class="col-sm-1 control-label text-right"><b
                                        class="form-text-black">出租人</b>:</label>
                                <div class="col-sm-4">
                                    <input type="text" name="belongGroup" placeholder="请输入出租人"
                                           class="form-control m-b-xs" ng-model="transferInfoRetreatsVo.belongGroup"
                                           disabled/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b
                                        class="form-text-black">合同编号</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="contNo" placeholder="请输入合同编号" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.contNo" disabled/>
                                </div>
                                <label class="col-sm-1 control-label text-right"><b
                                        class="form-text-black">车架号</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="vinNo" placeholder="请输入车架号" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.vinNo" disabled/>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b
                                        class="form-text-black">结清状态</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="paymentSts" placeholder="请输入结清状态"
                                           class="form-control m-b-xs" ng-model="transferInfoRetreatsVo.paymentStsVal"
                                           disabled/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">合同生效日期</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="finTotal" placeholder="请输入合同生效日期"
                                           class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.contractValidDate" disabled/>
                                </div>
                                <label class="col-sm-1 control-label text-right"><b
                                        class="form-text-black">车牌号</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="vehicleLicenseNo" placeholder="请输入车牌号"
                                           class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.vehicleLicenseNo" disabled/>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b
                                        class="form-text-black">发动机号</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="engineNo" placeholder="请输入发动机号" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.engineNo" disabled/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 保险信息 -->
                <div class="sub-main">
                    <div class="sub-title clearfix" click-hide>
                        <span class="pull-left">保险信息</span>
                        <span class="pull-right"><i class="glyphicon glyphicon-chevron-down"></i></span>
                    </div>
                    <div class="sub-body">
                        <div class="row">
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">保险公司名称</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="contNo" placeholder="请输入保险公司名称" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.insCompName" disabled/>
                                </div>
                                <label class="col-sm-1 control-label text-right"><b
                                        class="form-text-black">投保生效日</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="vinNo" placeholder="请输入投保生效日" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.validStartDay" disabled/>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b
                                        class="form-text-black">投保失效日</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="paymentSts" placeholder="请输入投保失效日"
                                           class="form-control m-b-xs" ng-model="transferInfoRetreatsVo.validEndDay"
                                           disabled/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">商业险保单号</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="contNo" placeholder="请输入商业险保单号" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.insPolicyNo" disabled/>
                                </div>
                                <label class="col-sm-1 control-label text-right"><b class="form-text-black">保单实际金额</b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" name="vinNo" placeholder="请输入保单实际金额" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.insFee" disabled/>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">险种</b><b class="form-error"></b>:</label>
                                <div class="col-sm-10">
                                    <div class="checkbox" ng-repeat="a in insuranceSelectInfoList">
                                        <label>
                                            <input type="checkbox" name="insuranceSelectInfo" ng-click="checkboxValue('insuranceSelectInfo',a.codeValue);" ng-model="a.checked" value="{{a.codeValue}}" ng-checked="(transferInfoRetreatsVo.insuranceSelectInfo | toArr).indexOf(a.codeValue) != -1" disabled>{{a.codeValueName}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 保单信息 -->
                <div class="sub-main">
                    <div class="sub-title clearfix" click-hide>
                        <span class="pull-left">保单信息</span>
                        <span class="pull-right"><i class="glyphicon glyphicon-chevron-down"></i></span>
                    </div>
                    <div class="sub-body">
                        <div class="row">
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">过户手续费</b><b
                                        class="form-error"></b>:</label>
                                <div class="col-sm-2">
                                    <input type="number" name="transferCost" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.transferCost" disabled/>
                                    <p>
                                        <span class="form-info"
                                              ng-show=" (form.transferCost.$dirty && form.transferCost.$error.required) || (form.transferCost.$error.required && formValidate)">过户手续费不能为空</span>
                                    </p>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">过户保证金</b><b
                                        class="form-error"></b>:</label>
                                <div class="col-sm-2">
                                    <input type="number" name="transferDeposit" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.transferDeposit" disabled/>
                                    <p>
                                        <span class="form-info"
                                              ng-show=" (form.transferDeposit.$dirty && form.transferDeposit.$error.required) || (form.transferDeposit.$error.required && formValidate)">过户保证金不能为空</span>
                                    </p>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">保证金</b><b
                                        class="form-error"></b>:</label>
                                <div class="col-sm-2">
                                    <input type="number" name="deposit" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.deposit" disabled/>
                                    <p>
                                        <span class="form-info"
                                              ng-show=" (form.deposit.$dirty && form.deposit.$error.required) || (form.deposit.$error.required && formValidate)">保证金不能为空</span>
                                    </p>
                                </div>
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">费用总额</b><b
                                        class="form-error"></b>:</label>
                                <div class="col-sm-2">
                                    <input type="number" name="totalCost" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.totalCost" disabled/>
                                    <p>
                                        <span class="form-info"
                                              ng-show=" (form.totalCost.$dirty && form.totalCost.$error.required) || (form.totalCost.$error.required && formValidate)">费用总额不能为空</span>
                                    </p>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">退保金额</b><b
                                        class="form-error"></b>:</label>
                                <div class="col-sm-2">
                                    <input type="number" name="retreatsAmount" class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.retreatsAmount" disabled/>
                                    <!-- <p>
                                         <span class="form-info"
                                               ng-show=" (form.retreatsAmount.$dirty && form.retreatsAmount.$error.required) || (form.retreatsAmount.$error.required && formValidate)">退保金额不能为空</span>
                                     </p>-->
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">退保收款户名</b><b
                                        class="form-error"></b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" title="{{transferInfoRetreatsVo.retreatsRecAccountName}}"
                                           name="retreatsRecAccountName" placeholder="请输入退保收款户名"
                                           class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.retreatsRecAccountName" disabled>
                                    <!-- <p>
                                         <span class="form-info"
                                               ng-show=" (form.retreatsRecAccountName.$dirty && form.retreatsRecAccountName.$error.required) || (form.retreatsRecAccountName.$error.required && formValidate)">退保收款户名不能为空</span>
                                     </p>-->
                                </div>

                                <label class="col-sm-2 control-label text-right"><b class="form-text-black">退保收款账号</b><b
                                        class="form-error"></b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" title="{{transferInfoRetreatsVo.retreatsRecAccountNo}}"
                                           name="retreatsRecAccountNo" placeholder="请输入退保收款账号"
                                           class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.retreatsRecAccountNo"
                                           ng-pattern="/^[0-9]*$/" disabled>
                                    <!-- <p>
                                         <span class="form-info"
                                               ng-show=" (form.retreatsRecAccountNo.$dirty && form.retreatsRecAccountNo.$error.required) || (form.retreatsRecAccountNo.$error.required && formValidate)">退保收款账号不能为空</span>
                                         <span class="form-info"
                                               ng-show=" (form.retreatsRecAccountNo.$error.pattern && !form.retreatsRecAccountNo.$error.required) || (form.retreatsRecAccountNo.$error.pattern && formValidate && !form.retreatsRecAccountNo.$error.required)">请输入数字账号</span>
                                     </p>-->
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-sm-2 control-label text-right"><b
                                        class="form-text-black">退保收款开户行</b><b class="form-error"></b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" title="{{transferInfoRetreatsVo.retreatsRecAccBank}}"
                                           name="retreatsRecAccBank" placeholder="请输入退保收款开户行"
                                           class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.retreatsRecAccBank" disabled>
                                    <!--<p>
                                        <span class="form-info"
                                              ng-show=" (form.retreatsRecAccBank.$dirty && form.retreatsRecAccBank.$error.required) || (form.retreatsRecAccBank.$error.required && formValidate)">退保收款开户行不能为空</span>
                                    </p>-->
                                </div>
                                <label class="col-sm-2 control-label text-right"><b
                                        class="form-text-black">退保收款开户行分行</b><b class="form-error"></b>:</label>
                                <div class="col-sm-2">
                                    <input type="text" title="{{transferInfoRetreatsVo.retreatsRecAccBranch}}"
                                           name="retreatsRecAccBranch" placeholder="请输入退保收款开户行分行"
                                           class="form-control m-b-xs"
                                           ng-model="transferInfoRetreatsVo.retreatsRecAccBranch" disabled>
                                    <!--<p>
                                        <span class="form-info"
                                              ng-show=" (form.retreatsRecAccBranch.$dirty && form.retreatsRecAccBranch.$error.required) || (form.retreatsRecAccBranch.$error.required && formValidate)">退保收款开户行分行不能为空</span>
                                    </p>-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <!-- 流程日志 -->
        <div class="panel-body" ng-show="processLogShow">
            <process-log-list-directive wf-log-type="$root.bizTypes.transfer" wf-log-no="retreatsNo"
                                        wf-log-sub-no="wfLogSubNo"></process-log-list-directive>
        </div>
    </div>
</div>






