<div ng-controller="invoice_list_controller">
    <div>
        <toaster-container
                toaster-options="{'position-class': 'toast-top-right', 'close-button':true}"></toaster-container>
    </div>
    <div class="panel panel-default">
        <div class="panel-body wrapper-sm">
            <div class="keyUp">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="row">
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <input class="form-control m-b-xs" ng-model="params.contNo" placeholder="合同号">
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <input class="form-control m-b-xs" ng-model="params.vinNo" placeholder="车架号">
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <select class="form-control m-b-xs" ng-model="params.invoiceDataType">
                                        <option value="">---开票类型---</option>
                                        <option ng-repeat="invoiceTypeObj in invoiceDataTypes"
                                                value="{{invoiceTypeObj.codeValue}}"
                                                ng-selected="params.invoiceDataType == invoiceTypeObj.codeValue">
                                            {{invoiceTypeObj.codeValueName}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <select class="form-control m-b-xs" ng-model="params.invoiceStatus">
                                        <option value="">---开票状态---</option>
                                        <option ng-repeat="invoiceStatusObj in invoiceStatusList"
                                                value="{{invoiceStatusObj.codeValue}}"
                                                ng-selected="params.invoiceStatus == invoiceStatusObj.codeValue">
                                            {{invoiceStatusObj.codeValueName}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-2">
                                <div class="form-group">
                                    <select ng-model="params.licenseAttr" class="form-control m-b-xs">
                                        <option value="">---选择业务类型---</option>
                                        <option value="{{licenseAttrObj.codeValue}}"
                                                ng-repeat="licenseAttrObj in licenseAttrList"
                                                ng-selected="params.licenseAttr == licenseAttrObj.codeValue">
                                            {{licenseAttrObj.codeValueName}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <input class="form-control m-b-xs" ng-model="params.lessee" placeholder="承租人">
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <!--<div class="col-lg-2">
                                <div class="form-group">
                                    <input class="form-control m-b-xs" ng-model="params.lessor" placeholder="出租人">
                                </div>
                            </div>-->
                            <div class="col-sm-2">
                                <div class="form-group">
                                    <label class="sr-only">出租人区域 </label>
                                    <input class="form-control m-b-xs" ng-model="params.groupDistrict"
                                           placeholder="请输入出租人区域">
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <input class="form-control m-b-xs" ng-model="params.beginReceiveDate"
                                           id="beginReceiveDate" placeholder="收款日期开始时间" date-picker="{{maxDate}}">
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <input class="form-control m-b-xs" ng-model="params.endReceiveDate"
                                           id="endReceiveDate" placeholder="收款日期结束时间" date-picker="{{minDate}}">
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <select class="form-control m-b-xs" ng-model="params.invoiceType">
                                        <option value="">---发票类型---</option>
                                        <option ng-repeat="cstmInvoiceTypeObj in cstmInvoiceTypeList"
                                                value="{{cstmInvoiceTypeObj.codeValue}}"
                                                ng-selected="params.invoiceType == cstmInvoiceTypeObj.codeValue">
                                            {{cstmInvoiceTypeObj.codeValueName}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <select class="form-control m-b-xs" ng-model="params.printStatus">
                                        <option value="">---打印状态---</option>
                                        <option ng-repeat="printStatus in printStatusList"
                                                value="{{printStatus.codeValue}}"
                                                ng-selected="params.printStatus == printStatus.codeValue">
                                            {{printStatus.codeValueName}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <select class="form-control m-b-xs" ng-model="params.invoiceFlag">
                                        <option value="">---开票区分---</option>
                                        <option ng-repeat="invoiceFlag in invoiceFlagList"
                                                value="{{invoiceFlag.codeValue}}"
                                                ng-selected="params.invoiceFlag == invoiceFlag.codeValue">
                                            {{invoiceFlag.codeValueName}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <label class="sr-only" >起始时间 </label>
                                    <input id="validStartDate2" type="text" name="validStartDate2" placeholder="请输入起始开票日期"
                                           class="form-control m-b-xs" ng-model="params.startTime2" date-picker="{{maxDate2}}">
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <label class="sr-only" >结束时间 </label>
                                    <input id="validEndDate2" type="text" name="validEndDate2" placeholder="请输入结束开票日期"
                                           class="form-control m-b-xs"  ng-model="params.endTime2" date-picker="{{minDate2}}">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-2">
                                <div class="form-group m-b-sm">
                                    <div class="btn-group">
                                        <button class="btn btn-default btn-sm m-b-xs btn-info fms-button-margin-bottom"
                                                ng-click="searchInvoice()" press-enter><i class="fa fa-search"></i>查询
                                        </button>
                                        <button class="btn btn-default btn-sm m-b-xs fms-button-margin-bottom"
                                                ng-click="resetInvoice()"><i class="fa  icon-refresh"></i>重置
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group pull-right">
                                <div class="btn-group">
                                    <button class="btn btn-default btn-sm m-b-xs fms-button-margin-bottom"
                                            ng-click="invoiceManual()">手动开票
                                    </button>
                                    <button class="btn btn-default btn-sm m-b-xs fms-button-margin-bottom"
                                            ng-click="autoManual()">自动开票
                                    </button>
                                    <button class="btn btn-default btn-sm m-b-xs fms-button-margin-bottom"
                                            ng-click="manualPrintinv()">发票打印
                                    </button>
                                    <button class="btn btn-default btn-sm m-b-xs fms-button-margin-bottom"
                                            ng-click="cancel()">开票作废
                                    </button>
                                    <button class="btn btn-default btn-sm m-b-xs fms-button-margin-bottom"
                                            ng-click="generate()">生成凭证
                                    </button>
                                    <button class="btn btn-default btn-sm m-b-xs fms-button-margin-bottom"
                                            ng-click="exportExcel()">导出excel
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <table border="1" class="table table-striped m-b-none" id="invoice_table">
        </table>
    </div>
</div>

